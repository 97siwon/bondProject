<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="memberMapper">
	<!-- namespace 속성 : 현재 공간(영역)에 대한 이름, 반드시 지정! -->
	<!-- mapper is sql -->
	
	<!-- 
		* resultMap 태그?
		- 자바 객체의 필드 명과 컬럼명이 다를 경우, 값을 어디에 세팅할지 작성
		- type : 연결할 VO 객채의 타입(패지키+클래스명 or 별칭) 별칭은 mybatis-config.xml 에서 지정
		- id : resultMap을 식별할 이름
	
	-->
	
	<resultMap type="Member" id="member_rm">
		
		<!-- PK 컬럼은 id로 -->
		<id property="memberNo" column="MEMBER_NO" />
		
		<!-- 나머지 컬럼은 result로 작성 -->
		<result property="memberEmail" column="MEMBER_EMAIL" />
		<result property="memberPw" column="MEMBER_PW" />
		<result property="memberName" column="MEMBER_NAME" />
		<result property="memberBirth" column="MEMBER_BIRTH" />
		<result property="memberTel" column="MEMBER_TEL" />
		<result property="authority" column="AUTHORITY" />
		<result property="memberStatus" column="MEMBER_STATUS" />
		<result property="signUpDate" column="SIGNUP_DATE" />
		<result property="delDate" column="DEL_DATE" />
		<result property="profileImage" column="PROFILE_IMG" />
	</resultMap>
	
	
	<!-- 해당 본드에 가입한 리스트 -->
	<select id="memberList">
		SELECT MJ.MEMBER_NO, (SELECT MEMBER_NAME FROM "MEMBER" M WHERE M.MEMBER_NO = MJ.MEMBER_NO)MEMBER_NAME, 
			LEADER_YN, GROUP_NO
		FROM "MEMBER_JOIN" MJ
		WHERE GROUP_NO = #{groupNo}
		AND JOIN_STATUS = 0
	</select>
	

</mapper>
